<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Descubra Seu NÃ­vel de InglÃªs - ProfÂª Bruna</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      background: linear-gradient(to bottom right, #fff0f5, #ffe4e1);
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    #game-box {
      background: #fffafc;
      padding: 2.5rem;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(255, 192, 203, 0.5);
      max-width: 420px;
      width: 90%;
      text-align: center;
    }
    h1 {
      color: #f06292;
      font-size: 1.9rem;
      margin-bottom: 1rem;
    }
    #level, #score {
      font-weight: bold;
      margin: 0.3rem 0;
      color: #ba68c8;
    }
    #question {
      font-size: 1.5rem;
      margin: 1.5rem 0;
      color: #6a1b9a;
    }
    .option, .return-btn {
      background: #ffb6c1;
      border: none;
      border-radius: 16px;
      padding: 0.8rem 1.5rem;
      font-size: 1rem;
      margin: 0.5rem 0;
      cursor: pointer;
      transition: background 0.3s;
      width: 100%;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    .option:hover, .return-btn:hover {
      background: #f48fb1;
      color: white;
    }
    #status {
      margin-top: 1rem;
      font-weight: bold;
      color: #7e57c2;
    }
    #result {
      font-size: 1.3rem;
      font-weight: bold;
      margin-top: 2rem;
      color: #ab47bc;
    }
  </style>
</head>
<body>
  <div id="game-box">
    <h1>ðŸŽ€ Descubra Seu NÃ­vel de InglÃªs!</h1>
    <p id="level">NÃ­vel: 1</p>
    <p id="score">PontuaÃ§Ã£o: 0</p>
    <h2 id="question">Carregando...</h2>
    <div id="options"></div>
    <p id="status"></p>
    <p id="result"></p>
    <div id="return-button" style="display:none;">
      <a href="bruna.html"><button class="return-btn">Voltar ao site da ProfÂª Bruna</button></a>
    </div>
  </div>

  <script>
    const levels = [
      // NÃ­vel BÃ¡sico
      [
        { word: "Apple", options: shuffle(["MaÃ§Ã£", "Banana", "Uva"]), answer: "MaÃ§Ã£" },
        { word: "Dog", options: shuffle(["Cachorro", "Gato", "Pato"]), answer: "Cachorro" },
        { word: "Cat", options: shuffle(["Gato", "Rato", "Cachorro"]), answer: "Gato" },
        { word: "Book", options: shuffle(["Livro", "Caderno", "Revista"]), answer: "Livro" },
        { word: "Pen", options: shuffle(["Caneta", "LÃ¡pis", "Borracha"]), answer: "Caneta" },
        { word: "Chair", options: shuffle(["Cadeira", "Mesa", "Porta"]), answer: "Cadeira" },
        { word: "Table", options: shuffle(["Mesa", "Janela", "Parede"]), answer: "Mesa" },
        { word: "Window", options: shuffle(["Janela", "Porta", "Teto"]), answer: "Janela" },
        { word: "Water", options: shuffle(["Ãgua", "Suco", "Leite"]), answer: "Ãgua" },
        { word: "Milk", options: shuffle(["Leite", "Ãgua", "Refrigerante"]), answer: "Leite" },
        { word: "Sun", options: shuffle(["Sol", "Lua", "Nuvem"]), answer: "Sol" },
        { word: "Moon", options: shuffle(["Lua", "Sol", "Estrela"]), answer: "Lua" },
        { word: "Star", options: shuffle(["Estrela", "Lua", "Sol"]), answer: "Estrela" },
        { word: "Fish", options: shuffle(["Peixe", "Frango", "Carne"]), answer: "Peixe" },
        { word: "Car", options: shuffle(["Carro", "Bicicleta", "Ã”nibus"]), answer: "Carro" },
        { word: "Bus", options: shuffle(["Ã”nibus", "Trem", "Carro"]), answer: "Ã”nibus" },
        { word: "Train", options: shuffle(["Trem", "AviÃ£o", "Navio"]), answer: "Trem" },
        { word: "House", options: shuffle(["Casa", "Escola", "Igreja"]), answer: "Casa" },
        { word: "School", options: shuffle(["Escola", "Casa", "Trabalho"]), answer: "Escola" },
        { word: "Teacher", options: shuffle(["Professor", "Aluno", "Diretor"]), answer: "Professor" },
      ],
      // NÃ­vel IntermediÃ¡rio
      [
        { word: "Explain", options: shuffle(["Explicar", "Apontar", "Escrever"]), answer: "Explicar" },
        { word: "Answer", options: shuffle(["Responder", "Perguntar", "Ler"]), answer: "Responder" },
        { word: "Question", options: shuffle(["Pergunta", "Resposta", "DÃºvida"]), answer: "Pergunta" },
        { word: "Believe", options: shuffle(["Acreditar", "Duvidar", "Ignorar"]), answer: "Acreditar" },
        { word: "Remember", options: shuffle(["Lembrar", "Esquecer", "Pensar"]), answer: "Lembrar" },
        { word: "Forget", options: shuffle(["Esquecer", "Lembrar", "Repetir"]), answer: "Esquecer" },
        { word: "Build", options: shuffle(["Construir", "Destruir", "Pintar"]), answer: "Construir" },
        { word: "Break", options: shuffle(["Quebrar", "Juntar", "Abrir"]), answer: "Quebrar" },
        { word: "Choose", options: shuffle(["Escolher", "Rejeitar", "Mudar"]), answer: "Escolher" },
        { word: "Run", options: shuffle(["Correr", "Andar", "Sentar"]), answer: "Correr" },
        { word: "Drive", options: shuffle(["Dirigir", "Pintar", "Falar"]), answer: "Dirigir" },
        { word: "Laugh", options: shuffle(["Rir", "Chorar", "Gritar"]), answer: "Rir" },
        { word: "Cry", options: shuffle(["Chorar", "Rir", "Gritar"]), answer: "Chorar" },
        { word: "Work", options: shuffle(["Trabalhar", "Estudar", "Comer"]), answer: "Trabalhar" },
        { word: "Study", options: shuffle(["Estudar", "Ensinar", "Ler"]), answer: "Estudar" },
        { word: "Teach", options: shuffle(["Ensinar", "Estudar", "Ouvir"]), answer: "Ensinar" },
        { word: "Dance", options: shuffle(["DanÃ§ar", "Cantar", "Andar"]), answer: "DanÃ§ar" },
        { word: "Sing", options: shuffle(["Cantar", "Gritar", "Falar"]), answer: "Cantar" },
        { word: "Listen", options: shuffle(["Ouvir", "Falar", "Ver"]), answer: "Ouvir" },
        { word: "Speak", options: shuffle(["Falar", "Ouvir", "Pensar"]), answer: "Falar" },
      ],
      // NÃ­vel AvanÃ§ado
      [
        { word: "Achievement", options: shuffle(["Conquista", "Fracasso", "Erro"]), answer: "Conquista" },
        { word: "Sustainability", options: shuffle(["Sustentabilidade", "PoluiÃ§Ã£o", "Reciclagem"]), answer: "Sustentabilidade" },
        { word: "Hypothesis", options: shuffle(["HipÃ³tese", "Teoria", "DÃºvida"]), answer: "HipÃ³tese" },
        { word: "Innovation", options: shuffle(["InovaÃ§Ã£o", "Rotina", "TradiÃ§Ã£o"]), answer: "InovaÃ§Ã£o" },
        { word: "Entrepreneur", options: shuffle(["Empreendedor", "FuncionÃ¡rio", "Gerente"]), answer: "Empreendedor" },
        { word: "Strategy", options: shuffle(["EstratÃ©gia", "ConfusÃ£o", "Erro"]), answer: "EstratÃ©gia" },
        { word: "Collaboration", options: shuffle(["ColaboraÃ§Ã£o", "CompetiÃ§Ã£o", "Desacordo"]), answer: "ColaboraÃ§Ã£o" },
        { word: "Research", options: shuffle(["Pesquisa", "Resposta", "ReuniÃ£o"]), answer: "Pesquisa" },
        { word: "Development", options: shuffle(["Desenvolvimento", "DeclÃ­nio", "DestruiÃ§Ã£o"]), answer: "Desenvolvimento" },
        { word: "Investment", options: shuffle(["Investimento", "Gasto", "Perda"]), answer: "Investimento" },
        { word: "Leadership", options: shuffle(["LideranÃ§a", "ObediÃªncia", "SubmissÃ£o"]), answer: "LideranÃ§a" },
        { word: "Knowledge", options: shuffle(["Conhecimento", "IgnorÃ¢ncia", "Esquecimento"]), answer: "Conhecimento" },
        { word: "Challenge", options: shuffle(["Desafio", "Facilidade", "SoluÃ§Ã£o"]), answer: "Desafio" },
        { word: "Evidence", options: shuffle(["EvidÃªncia", "Suspeita", "Achismo"]), answer: "EvidÃªncia" },
        { word: "Environment", options: shuffle(["Meio ambiente", "Cidade", "IndÃºstria"]), answer: "Meio ambiente" },
      ]
    ];

    function shuffle(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    let usedQuestions = JSON.parse(localStorage.getItem('usedQuestions')) || [[], [], []];
    let currentLevel = parseInt(localStorage.getItem('level')) || 0;
    let score = parseInt(localStorage.getItem('score')) || 0;
    let questionCount = parseInt(localStorage.getItem('questionCount')) || 0;
    const maxQuestions = 6;

    function loadQuestion() {
      if (questionCount >= maxQuestions) {
        showResult();
        return;
      }

      const availableQuestions = levels[currentLevel].filter((_, i) => !usedQuestions[currentLevel].includes(i));
      if (availableQuestions.length === 0) {
        usedQuestions[currentLevel] = [];
      }

      const index = Math.floor(Math.random() * availableQuestions.length);
      const question = availableQuestions[index];
      const questionIndex = levels[currentLevel].indexOf(question);
      usedQuestions[currentLevel].push(questionIndex);

      document.getElementById('question').innerText = `Traduza: ${question.word}`;
      const optionsDiv = document.getElementById('options');
      optionsDiv.innerHTML = '';
      question.options.forEach(opt => {
        const btn = document.createElement('button');
        btn.innerText = opt;
        btn.className = 'option';
        btn.onclick = () => checkAnswer(opt, question.answer);
        optionsDiv.appendChild(btn);
      });

      saveProgress();
    }

    function checkAnswer(selected, correct) {
      const status = document.getElementById('status');
      questionCount++;
      if (selected === correct) {
        status.innerText = 'âœ… Correto!';
        score++;
        if (score % 3 === 0 && currentLevel < levels.length - 1) {
          currentLevel++;
        }
      } else {
        status.innerText = 'âŒ Errado!';
      }
      updateUI();
      saveProgress();
      setTimeout(loadQuestion, 1000);
    }

    function showResult() {
      document.getElementById('question').style.display = 'none';
      document.getElementById('options').style.display = 'none';
      document.getElementById('status').style.display = 'none';
      let levelText = '';
      if (score <= 2) levelText = 'Seu nÃ­vel Ã©: BÃ¡sico ðŸ“˜';
      else if (score <= 4) levelText = 'Seu nÃ­vel Ã©: IntermediÃ¡rio ðŸ“—';
      else levelText = 'Seu nÃ­vel Ã©: AvanÃ§ado ðŸ“™';
      document.getElementById('result').innerText = levelText;

      // Adicione o link do WhatsApp
      const whatsappNumber = "5511970619569"; // Substitua pelo nÃºmero de WhatsApp desejado
      const whatsappMessage = `OlÃ¡, ProfÂª Bruna! Meu resultado no teste de nÃ­vel foi: ${levelText}`;
      const whatsappLink = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(whatsappMessage)}`;

      // Exibe o botÃ£o de WhatsApp
      const returnButton = document.getElementById('return-button');
      returnButton.innerHTML = `<a href="${whatsappLink}" target="_blank"><button class="return-btn">ðŸ“² Enviar Resultado no WhatsApp</button></a>`;
      returnButton.style.display = 'block';

      localStorage.setItem('finalResult', levelText);
      localStorage.clear();
    }

    function updateUI() {
      document.getElementById('score').innerText = `PontuaÃ§Ã£o: ${score}`;
      document.getElementById('level').innerText = `NÃ­vel: ${currentLevel + 1}`;
    }

    function saveProgress() {
      localStorage.setItem('score', score);
      localStorage.setItem('level', currentLevel);
      localStorage.setItem('questionCount', questionCount);
      localStorage.setItem('usedQuestions', JSON.stringify(usedQuestions));
    }

    loadQuestion();
    updateUI();
  </script>
</body>
</html>